{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nlet PokemonDetailComponent = class PokemonDetailComponent {\n  constructor(service, route) {\n    this.service = service;\n    this.route = route;\n    this.title = 'Default Image';\n    this.progresso = 100;\n    this.pokemonEncontrado = {\n      nome: '',\n      id: 0,\n      habilidade1: '-',\n      habilidade2: '-',\n      habilidade3: '-',\n      tipo1: '',\n      tipo2: '',\n      ataque: 0,\n      defesa: 0,\n      hp: 0,\n      specialAttack: 0,\n      specialDefense: 0,\n      velocidade: 0,\n      peso: 0,\n      altura: 0,\n      imagemTroca: '',\n      imagemDefault: '',\n      imagemShiny: '',\n      icon1: '',\n      icon2: ''\n    };\n    this.aoBuscar = new EventEmitter();\n  }\n  ngOnInit() {\n    if (this.route.snapshot.paramMap.get('id') != undefined) {\n      this.pokemonProcurado = this.route.snapshot.paramMap.get('id');\n      this.buscar();\n    }\n    this.trocarImagem();\n  }\n  buscar() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const pokemon = this.pokemonProcurado.toLocaleLowerCase();\n      this.service.getPokemonData(pokemon).subscribe(resultado => {\n        /* Definição do nome */\n        this.pokemonEncontrado.nome = resultado.name;\n        /* Definição do id */\n        this.pokemonEncontrado.id = resultado.id;\n        /* Definição das habilidades */\n        if (resultado.abilities.length == 1) {\n          this.pokemonEncontrado.habilidade1 = resultado.abilities[0].ability.name;\n        } else if (resultado.abilities.length == 2) {\n          this.pokemonEncontrado.habilidade1 = resultado.abilities[0].ability.name;\n          this.pokemonEncontrado.habilidade2 = resultado.abilities[1].ability.name;\n        } else {\n          this.pokemonEncontrado.habilidade1 = resultado.abilities[0].ability.name;\n          this.pokemonEncontrado.habilidade2 = resultado.abilities[1].ability.name;\n          this.pokemonEncontrado.habilidade3 = resultado.abilities[2].ability.name;\n        }\n        /* Definição do peso */\n        this.pokemonEncontrado.peso = resultado.weight;\n        /* Definição da altura */\n        this.pokemonEncontrado.altura = resultado.height;\n        /* Definição dos tipos */\n        if (resultado.types.length == 1) {\n          this.pokemonEncontrado.tipo1 = resultado.types[0].type.name;\n        } else {\n          this.pokemonEncontrado.tipo1 = resultado.types[0].type.name;\n          this.pokemonEncontrado.tipo2 = resultado.types[1].type.name;\n        }\n        /* Definição dos base stats */\n        this.pokemonEncontrado.hp = resultado.stats[0].base_stat;\n        this.pokemonEncontrado.ataque = resultado.stats[1].base_stat;\n        this.pokemonEncontrado.defesa = resultado.stats[2].base_stat;\n        this.pokemonEncontrado.specialAttack = resultado.stats[3].base_stat;\n        this.pokemonEncontrado.specialDefense = resultado.stats[4].base_stat;\n        this.pokemonEncontrado.velocidade = resultado.stats[5].base_stat;\n        /* Definição das imagens */\n        this.pokemonEncontrado.imagemDefault = resultado.sprites.other['official-artwork'].front_default;\n        this.pokemonEncontrado.imagemTroca = resultado.sprites.other['official-artwork'].front_default;\n        this.pokemonEncontrado.imagemShiny = resultado.sprites.other['official-artwork'].front_shiny;\n        this.definirBackground();\n        this.definirIcons();\n        this.aoBuscar.emit(this.pokemonEncontrado);\n      });\n    });\n  }\n  definirBackground() {\n    /* Definição de variavéis */\n    let tipo1 = document.getElementById('tipo1');\n    let tipo2 = document.getElementById('tipo2');\n    let corpo = document.getElementById('corpo');\n    let fundo = document.getElementById('fundo-imagem');\n    /* Definição de icons de tipos */\n    // TIPO 1\n    tipo1.style.backgroundColor = `var(--${this.pokemonEncontrado.tipo1})`;\n    corpo.style.backgroundImage = `var(--${this.pokemonEncontrado.tipo1}W)`;\n    fundo.style.backgroundColor = `var(--${this.pokemonEncontrado.tipo1})`;\n    // TIPO 2\n    tipo2.style.backgroundColor = `var(--${this.pokemonEncontrado.tipo2})`;\n  }\n  definirIcons() {\n    // Icon 1\n    let icon1 = document.getElementById('icon1');\n    let icon2 = document.getElementById('icon2');\n    icon1.style.backgroundImage = `var(--${this.pokemonEncontrado.tipo1}I)`;\n    this.pokemonEncontrado.icon1 = `var(--${this.pokemonEncontrado.tipo1}I)`;\n    icon2.style.backgroundImage = `var(--${this.pokemonEncontrado.tipo2}I)`;\n    console.log(this.pokemonEncontrado.icon1);\n    // Icon 2\n    this.pokemonEncontrado.icon2 = `var(--${this.pokemonEncontrado.tipo2}I)`;\n    console.log(this.pokemonEncontrado.icon2);\n  }\n  trocarImagem() {\n    if (this.pokemonEncontrado.imagemTroca == this.pokemonEncontrado.imagemDefault) {\n      this.pokemonEncontrado.imagemTroca = this.pokemonEncontrado.imagemShiny;\n      this.title = 'Shiny image';\n    } else {\n      this.pokemonEncontrado.imagemTroca = this.pokemonEncontrado.imagemDefault;\n      this.title = 'Default image';\n    }\n  }\n};\n__decorate([Input()], PokemonDetailComponent.prototype, \"progresso\", void 0);\n__decorate([Output()], PokemonDetailComponent.prototype, \"aoBuscar\", void 0);\nPokemonDetailComponent = __decorate([Component({\n  selector: 'app-pokemon-detail',\n  templateUrl: './pokemon-detail.component.html',\n  styleUrls: ['./pokemon-detail.component.scss']\n})], PokemonDetailComponent);\nexport { PokemonDetailComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}